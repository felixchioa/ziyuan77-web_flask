<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="description" content="资源77提供图片处理工具，支持图片裁剪、旋转、缩放、亮度、对比度、饱和度、色相、滤镜、锐化、噪点、晕影、文字水印、尺寸调整、旋转与翻转等功能，方便快捷。">
    <title>图片处理工具</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/image_processor.css') }}">
</head>
<body>
    <div class="processor-container">
        <h2>图片处理工具</h2>
        
        <div class="upload-section">
            <div class="file-input">
                <input type="file" id="image-input" accept="image/*">
                <label for="image-input">选择图片</label>
            </div>
            <div class="drag-area" id="drag-area">
                <div class="drag-text">或将图片拖放到此处</div>
                <img id="preview-image" style="display: none;">
            </div>
        </div>

        <div class="tools-section">
            <div class="tool-group">
                <h3>基本调整</h3>
                <div class="slider-control">
                    <label>亮度：</label>
                    <input type="range" id="brightness" min="0" max="200" value="100">
                    <span class="value">100%</span>
                </div>
                <div class="slider-control">
                    <label>对比度：</label>
                    <input type="range" id="contrast" min="0" max="200" value="100">
                    <span class="value">100%</span>
                </div>
                <div class="slider-control">
                    <label>饱和度：</label>
                    <input type="range" id="saturation" min="0" max="200" value="100">
                    <span class="value">100%</span>
                </div>
                <div class="slider-control">
                    <label>色相：</label>
                    <input type="range" id="hue-rotate" min="0" max="360" value="0">
                    <span class="value">0°</span>
                </div>
            </div>

            <div class="tool-group">
                <h3>滤镜效果</h3>
                <div class="filter-buttons">
                    <button data-filter="none">原图</button>
                    <button data-filter="grayscale">黑白</button>
                    <button data-filter="sepia">复古</button>
                    <button data-filter="invert">反色</button>
                    <button data-filter="blur">模糊</button>
                    <button data-filter="vintage">复古</button>
                    <button data-filter="dramatic">戏剧</button>
                    <button data-filter="cold">冷色</button>
                    <button data-filter="warm">暖色</button>
                </div>
            </div>

            <div class="tool-group">
                <h3>高级效果</h3>
                <div class="advanced-controls">
                    <div class="slider-control">
                        <label>锐化：</label>
                        <input type="range" id="sharpen" min="0" max="100" value="0">
                        <span class="value">0%</span>
                    </div>
                    <div class="slider-control">
                        <label>噪点：</label>
                        <input type="range" id="noise" min="0" max="50" value="0">
                        <span class="value">0%</span>
                    </div>
                    <div class="slider-control">
                        <label>晕影：</label>
                        <input type="range" id="vignette" min="0" max="100" value="0">
                        <span class="value">0%</span>
                    </div>
                </div>
            </div>

            <div class="tool-group">
                <h3>文字水印</h3>
                <div class="watermark-controls">
                    <input type="text" id="watermark-text" placeholder="输入水印文字">
                    <input type="color" id="watermark-color" value="#000000">
                    <select id="watermark-position">
                        <option value="top-left">左上角</option>
                        <option value="top-right">右上角</option>
                        <option value="bottom-left">左下角</option>
                        <option value="bottom-right">右下角</option>
                        <option value="center">中心</option>
                    </select>
                    <input type="range" id="watermark-opacity" min="0" max="100" value="50">
                    <label>不透明度：<span class="value">50%</span></label>
                </div>
            </div>

            <div class="tool-group">
                <h3>尺寸调整</h3>
                <div class="size-inputs">
                    <div class="input-group">
                        <label>宽度：</label>
                        <input type="number" id="width" min="1">
                        <span>px</span>
                    </div>
                    <div class="input-group">
                        <label>高度：</label>
                        <input type="number" id="height" min="1">
                        <span>px</span>
                    </div>
                    <label>
                        <input type="checkbox" id="maintain-ratio" checked>
                        保持比例
                    </label>
                </div>
            </div>

            <div class="tool-group">
                <h3>旋转与翻转</h3>
                <div class="transform-buttons">
                    <button onclick="rotateImage(-90)">向左旋转</button>
                    <button onclick="rotateImage(90)">向右旋转</button>
                    <button onclick="flipImage('horizontal')">水平翻转</button>
                    <button onclick="flipImage('vertical')">垂直翻转</button>
                </div>
            </div>
        </div>

        <div class="output-section">
            <div class="format-options">
                <select id="format-select">
                    <option value="png">PNG</option>
                    <option value="jpeg">JPEG</option>
                    <option value="webp">WebP</option>
                </select>
                <div class="quality-control">
                    <label>质量：</label>
                    <input type="range" id="quality" min="0" max="100" value="90">
                    <span class="value">90%</span>
                </div>
            </div>
            <button id="download-btn" onclick="downloadImage()" disabled>下载图片</button>
        </div>
    </div>

    <script src="{{ url_for('static', filename='js/image_processor.js') }}"></script>
</body>
</html> 