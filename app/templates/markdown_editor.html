<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>Markdown编辑器</title>
    <link rel="stylesheet" href="/static/css/markdown_editor.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@11.7.0/styles/github.min.css">
</head>
<body>
    <div class="container">
        <div class="toolbar">
            <div class="tool-group">
                <button title="加粗" onclick="insertMarkdown('bold')"><b>B</b></button>
                <button title="斜体" onclick="insertMarkdown('italic')"><i>I</i></button>
                <button title="删除线" onclick="insertMarkdown('strikethrough')"><s>S</s></button>
                <button title="标题" onclick="insertMarkdown('heading')">H</button>
            </div>
            <div class="tool-group">
                <button title="链接" onclick="insertMarkdown('link')">🔗</button>
                <button title="图片" onclick="insertMarkdown('image')">📷</button>
                <button title="代码块" onclick="insertMarkdown('code')">📝</button>
                <button title="引用" onclick="insertMarkdown('quote')">💬</button>
            </div>
            <div class="tool-group">
                <button title="无序列表" onclick="insertMarkdown('ul')">•</button>
                <button title="有序列表" onclick="insertMarkdown('ol')">1.</button>
                <button title="任务列表" onclick="insertMarkdown('task')">☐</button>
                <button title="表格" onclick="insertMarkdown('table')">⊞</button>
            </div>
            <div class="tool-group">
                <button title="导入文件" onclick="document.getElementById('file-input').click()">📂</button>
                <input type="file" id="file-input" accept=".md,.txt" hidden>
                <button title="导出Markdown" onclick="exportMarkdown()">⬇️</button>
                <button title="导出HTML" onclick="exportHtml()">📄</button>
            </div>
            <div class="tool-group">
                <select id="theme-selector" onchange="changeTheme()">
                    <option value="github">GitHub主题</option>
                    <option value="dark">暗色主题</option>
                    <option value="light">亮色主题</option>
                </select>
            </div>
        </div>

        <div class="editor-container">
            <div class="editor-section">
                <div class="section-header">
                    <span>编辑区</span>
                    <button onclick="toggleFullscreen('editor')">⛶</button>
                </div>
                <textarea id="editor" spellcheck="false" placeholder="在此输入Markdown文本..."></textarea>
            </div>
            
            <div class="preview-section">
                <div class="section-header">
                    <span>预览区</span>
                    <button onclick="toggleFullscreen('preview')">⛶</button>
                </div>
                <div id="preview"></div>
            </div>
        </div>

        <div class="status-bar">
            <div class="status-item">
                <span>字数：</span>
                <span id="word-count">0</span>
            </div>
            <div class="status-item">
                <span>行数：</span>
                <span id="line-count">0</span>
            </div>
            <div class="status-item">
                <label>
                    <input type="checkbox" id="auto-save" checked>
                    自动保存
                </label>
            </div>
            <div class="status-item">
                <span id="save-status"></span>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/highlight.js@11.7.0/lib/core.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/highlight.js@11.7.0/lib/common.min.js"></script>
    <script src="/static/js/markdown_editor.js"></script>
</body>
</html> 